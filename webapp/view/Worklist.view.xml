<mvc:View
	controllerName="Offer.Offer.controller.Worklist"
	xmlns="sap.m"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns:l="sap.ui.layout"
	xmlns:semantic="sap.f.semantic"
	xmlns:core="sap.ui.core"
	xmlns:u="sap.ui.unified" 
	xmlns:custom="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
	xmlns:footerbar="sap.ushell.ui.footerbar">

	<semantic:SemanticPage
		id="page"
		headerPinnable="false"
		toggleHeaderOnTitleClick="false">

		<semantic:titleHeading>
			<Title id="offerTitle" text="{i18n>worklistTitle}" />
		</semantic:titleHeading>

		<semantic:content>
			<NavContainer
				id="navCon"
				defaultTransitionName="slide"
				initialPage="p1"
				class="navContainerControl"
				width="100%">
				<pages>
					<Page
						id="p1"
						title="{i18n>offerTemplateSettings}" >
						<VBox class="paddingRem" id="pageTradingPurpose">
							<Input value="{= ${TCNumber} ? ${TCNumber} : '$$00000001' }" custom:name="TCNumber" visible="false" />
							<DateTimePicker dateValue="{LastChanged}" visible="false" />
							<Label required="true" class="topLabel" text="{i18n>tradingPurpose}" />
							<Select selectedKey="{TradingPurpose}" id="sales" custom:key="tradingPurpose" width="100%" forceSelection="false" 
								items="{ path: '/dictionaryTradingPurposeSet', sorter: { path: 'Name' } }">
								<core:Item key="{Code}" text="{Name}"/>
							</Select>
							<Label required="true" class="topLabel" text="{i18n>type}" />
							<Select id="type" change="setOfferType" custom:key="type" custom:omit="true" selectedKey="{= ${Type} ? ${Type} : 'OF02'}" 
								forceSelection="false" width="100%" items="{ path: '/dictionaryTypeSet', sorter: { path: 'Name' } }">
								<core:Item key="{Code}" text="{Name}"/>
							</Select>
						</VBox>
						<footer>
							<Toolbar>
								<ToolbarSpacer />
								<Button id="tradingPurposeNextButton" type="Accept" 
									custom:next="p2" 
									custom:check="true"
									custom:id="pageTradingPurpose" press="nextPage" text="{i18n>next}" />
							</Toolbar>
						</footer>
					</Page>
					<Page
						id="p2"
						title="{i18n>offer}" >
						<l:BlockLayout>
							<l:BlockLayoutRow>
								<l:BlockLayoutCell width="1">
									<core:Fragment fragmentName="fragment.parameters" type="XML"></core:Fragment>
								</l:BlockLayoutCell>
								<l:BlockLayoutCell width="1">
									<core:Fragment fragmentName="fragment.offer" type="XML"></core:Fragment>
								</l:BlockLayoutCell>
								<l:BlockLayoutCell width="1">
									<core:Fragment fragmentName="fragment.blacklist" type="XML"></core:Fragment>
								</l:BlockLayoutCell>
							</l:BlockLayoutRow>
						</l:BlockLayout>
						<footer>
							<Toolbar>
								<Button id="offerSettingsPrevButton" type="Back" custom:next="p1" press="nextPage" text="{i18n>back}" />
								<ToolbarSpacer />
								<Button 
									custom:id="pageOfferDetails" 
									custom:check="true"
									id="offerSettingsNextButton" 
									type="Accept" custom:next="p3" press="nextPage" text="{i18n>next}" />
							</Toolbar>
						</footer>
					</Page>
					<Page
						id="p3"
						title="{i18n>volumeSettings}">
						<List noDataText="{i18n>noData}" mode="SingleSelectMaster" id="volumesList" items="{ path: 'ToOfferVolume', templateShareable:false }" selectionChange="onListSelect">
							<headerToolbar>
								<Toolbar>
									<Title text="{i18n>volumes}" titleStyle="H3" />
									<ToolbarSpacer />
									<Button type="Accept" id="volumeAddButton" custom:id="volumes" text="{i18n>add}" press="add" />
									<Button type="Emphasized" id="volumeCopyButton" custom:id="volumes" text="{i18n>copy}" press="copy" enabled="false" />
									<Button type="Reject" id="volumeDeleteButton" custom:id="volumes" text="{i18n>delete}" press="delete" enabled="false" />
								</Toolbar>
							</headerToolbar>
							<items>
								<CustomListItem>
									<core:Fragment fragmentName="fragment.volumes" type="XML"></core:Fragment>
								</CustomListItem>
							</items>
						</List>
						<footer>
							<Toolbar>
								<Button id="volumePrevButton" type="Back" custom:next="p2" press="nextPage" text="{i18n>back}" />
								<ToolbarSpacer />
								<Button 
									id="saveOffer" 
									custom:blocks="pageTradingPurpose,pageOfferDetails,parameters" 
									type="Accept" 
									press="saveOffer" 
									text="{i18n>save}"/>
								<Button id="approveOffer" enabled="false" type="Accept" press="approveOffer" text="{i18n>approve}" />
							</Toolbar>
						</footer>
					</Page>
				</pages>
			</NavContainer>
		</semantic:content>
		<!--<semantic:titleMainAction>-->
		<!--	<semantic:TitleMainAction custom:id="offerList" press="copyFrom" text="{i18n>copyFrom}" />-->
		<!--</semantic:titleMainAction>-->
	</semantic:SemanticPage>

</mvc:View>